const assert = require('chai').assert;
const fixparser = require('./fixparserjs.js');

// fix strings to be tested
const fix42test_1 = "8=FIX.4.29=035=849=JWEK56=BNJM34=350=515757=585052=20150406-12:17:2711=d3e3f1b3-da8a-4310-884e-9abc3cc0980b37=acd163dd-232d-4bc5-9dcb-9f484a0462c341=1aa523a8-2533-4c96-97ac-f717b358773b109=71191076=71191017=b7969f8e-56d3-40c8-b2dc-75322b76ec1a20=039=21=JWEK84930046155=HCBK48=46428843022=154=238=8030040=159=032=8030031=48.14100030=O29=114=803006=280.9975=20150406-12:17:2760=20150406-12:17:27150=2151=0207=P10=0";
const fix42test_2 = "8=FIX.4.2^9=153^35=D^49=BLP^56=SCHB^34=1^50=30737^97=Y^52=20000809-20:20:50^11=90001008^1=10030003^21=2^55=TESTA^54=1^38=4000^40=2^59=0^44=30^47=I^60=20000809-18:20:32^10=061^";
const fix44test_1 = "8=FIX.4.49=24435=s34=549=sender52=20060319-09:08:20.88156=target22=840=244=948=ABC55=ABC60=20060319-09:08:19548=184214549=2550=0552=254=138=9453=2448=8447=D452=4448=AAA35777447=D452=354=238=9453=2448=8447=D452=4448=aaa447=D452=310=1008=FIX.4.49=24435=s34=549=sender52=20060319-09:08:20.88156=target22=840=244=948=ABC55=ABC60=20060319-09:08:19548=184214549=2550=0552=254=138=9453=2448=8447=D452=4448=AAA35777447=D452=354=238=9453=2448=8447=D452=4448=aaa447=D452=310=1008=FIX.4.49=24435=s34=549=sender52=20060319-09:08:20.88156=target22=840=244=948=ABC55=ABC60=20060319-09:08:19548=184214549=2550=0552=254=138=9453=2448=8447=D452=4448=AAA35777447=D452=354=238=9453=2448=8447=D452=4448=aaa447=D452=310=1008=FIX.4.49=24435=s34=549=sender52=20060319-09:08:20.88156=target22=840=244=948=ABC55=ABC60=20060319-09:08:19548=184214549=2550=0552=254=138=9453=2448=8447=D452=4448=AAA35777447=D452=354=238=9453=2448=8447=D452=4448=aaa447=D452=310=100";
const fix44test_2 = "8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100|8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100|8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100|8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100";
const invalid_fix = "8=FIX.4.4|9=244|35=s|8501=25|8502=26|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100|8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100|8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100|8=FIX.4.4|9=244|35=s|34=5|49=sender|52=20060319-09:08:20.881|56=target|22=8|40=2|44=9|48=ABC|55=ABC|60=20060319-09:08:19|548=184214|549=2|550=0|552=2|54=1|38=9|453=2|448=8|447=D|452=4|448=AAA35777|447=D|452=3|54=2|38=9|453=2|448=8|447=D|452=4|448=aaa|447=D|452=3|10=100";

describe('testing fix42test_1', () => {
  it('should return error equal to null', () => {
    const result = fixparser.parse(fix42test_1);
    assert.equal(result.Error, null);
  });
});

describe('testing fix42test_2', () => {
  it('should return error equal to null', () => {
    const result = fixparser.parse(fix42test_2,'^');
    assert.equal(result.Error, null);
  });
});

describe('testing fix44test_1', () => {
  it('should return error equal to null', () => {
    const result = fixparser.parse(fix44test_1);
    assert.equal(result.Error, null);
  });
});

describe('testing fix44test_2', () => {
  it('should return error equal to null', () => {
    const result = fixparser.parse(fix44test_2,'|');
    assert.equal(result.Error, null);
  });
});

describe('testing invalid_fix', () => {
  it('should return error not equal to null', () => {
    const result = fixparser.parse(invalid_fix,'|');
    assert.notEqual(result.Error, null);
  });
});